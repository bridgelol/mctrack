apiVersion: v1
kind: ConfigMap
metadata:
  name: mctrack-config
  namespace: mctrack-dev
data:
  DATABASE_URL: "postgresql://mctrack:mctrack@postgres:5432/mctrack"
  CLICKHOUSE_URL: "http://clickhouse:8123"
  CLICKHOUSE_USER: "default"
  CLICKHOUSE_PASSWORD: ""
  CLICKHOUSE_DATABASE: "mctrack"
  REDIS_URL: "redis://redis:6379"
  NODE_ENV: "development"
  LOG_LEVEL: "debug"
  CORS_ORIGIN: "http://localhost:3000"
  API_URL: "http://api:4000"
  NEXT_PUBLIC_API_URL: "http://localhost:4000"
  # Auth.js v5 configuration
  AUTH_URL: "http://localhost:3000"
  AUTH_TRUST_HOST: "true"
  # next-auth/react client still needs NEXTAUTH_URL
  NEXTAUTH_URL: "http://localhost:3000"
---
apiVersion: v1
kind: Secret
metadata:
  name: mctrack-secrets
  namespace: mctrack-dev
type: Opaque
stringData:
  JWT_SECRET: "dev-jwt-secret-change-in-production"
  # Auth.js v5 uses AUTH_SECRET (minimum 32 characters)
  AUTH_SECRET: "dev-auth-secret-change-in-production-min-32-chars"
  INTERNAL_API_SECRET: "dev-internal-secret"
